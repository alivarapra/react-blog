{"pageContext":{"isCreatedByStatefulCreatePages":false,"post":{"slug":"/verilogBasicNotes/","title":"Verilog Basic Notes","subtitle":"FPGA Road","author":"sabertazimi","tags":["Computer Science","Verilog","FPGA","Xilinx"],"date":"2019-03-08T00:00:00.000Z","excerpt":"Verilog Basic Notes General Flow Create Proj - .v(sources) / .xdc(constraints) RTL Analysis Schematic Simulate Design - *_tb.v(simulation sources) simulation options: 500ns Scopes -> dut -> swt/led Schematic Synthesize Design Schematic Implement Design Schematic Post-Implementation Timing Simulate Design Generate Bitstream Testing and Verification Key Words Module Inout(Net) -> (Net)Module(Net) -> Inout(Net) Input(Net/Register) -> (Net)Module(Net/Register) -> Output(Net…","timeToRead":13,"html":"<h1 id=\"verilog-basic-notes\"><a href=\"#verilog-basic-notes\" aria-label=\"verilog basic notes permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Verilog Basic Notes</h1>\n<h2 id=\"general-flow\"><a href=\"#general-flow\" aria-label=\"general flow permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>General Flow</h2>\n<h3 id=\"create-proj---vsources--xdcconstraints\"><a href=\"#create-proj---vsources--xdcconstraints\" aria-label=\"create proj   vsources  xdcconstraints permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create Proj - .v(sources) / .xdc(constraints)</h3>\n<h3 id=\"rtl-analysis\"><a href=\"#rtl-analysis\" aria-label=\"rtl analysis permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RTL Analysis</h3>\n<p>Schematic</p>\n<h3 id=\"simulate-design---_tbvsimulation-sources\"><a href=\"#simulate-design---_tbvsimulation-sources\" aria-label=\"simulate design   _tbvsimulation sources permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Simulate Design - *_tb.v(simulation sources)</h3>\n<ul>\n<li>simulation options: 500ns</li>\n<li>Scopes -> dut -> swt/led</li>\n<li>Schematic</li>\n</ul>\n<h3 id=\"synthesize-design\"><a href=\"#synthesize-design\" aria-label=\"synthesize design permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Synthesize Design</h3>\n<p>Schematic</p>\n<h3 id=\"implement-design\"><a href=\"#implement-design\" aria-label=\"implement design permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implement Design</h3>\n<p>Schematic</p>\n<h3 id=\"post-implementation-timing-simulate-design\"><a href=\"#post-implementation-timing-simulate-design\" aria-label=\"post implementation timing simulate design permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Post-Implementation Timing Simulate Design</h3>\n<h3 id=\"generate-bitstream\"><a href=\"#generate-bitstream\" aria-label=\"generate bitstream permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Generate Bitstream</h3>\n<h3 id=\"testing-and-verification\"><a href=\"#testing-and-verification\" aria-label=\"testing and verification permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Testing and Verification</h3>\n<h2 id=\"key-words\"><a href=\"#key-words\" aria-label=\"key words permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Key Words</h2>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">module</span>\n<span class=\"token keyword\">input</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">output</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">inout</span>\n<span class=\"token keyword\">wire</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">reg</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">parameter</span>\n<span class=\"token important\">always@</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">assign</span>\n<span class=\"token keyword\">posedge</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">negedge</span>\n<span class=\"token keyword\">if</span><span class=\"token operator\">-</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">case</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">begin</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token keyword\">end</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\">port<span class=\"token punctuation\">,</span> signal</code></pre></div>\n<h2 id=\"module\"><a href=\"#module\" aria-label=\"module permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Module</h2>\n<ul>\n<li>Inout(Net) -> (Net)Module(Net) -> Inout(Net)</li>\n<li>Input(Net/Register) -> (Net)Module(Net/Register) -> Output(Net)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">module</span> <span class=\"token function\">moduleName</span><span class=\"token punctuation\">(</span> In1<span class=\"token punctuation\">,</span> In2<span class=\"token punctuation\">,</span> Out1<span class=\"token punctuation\">,</span> Out2<span class=\"token punctuation\">,</span> InOut1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 输入输出定义: 说明端口是输入还是输出</span>\n    <span class=\"token keyword\">input</span> In1<span class=\"token punctuation\">,</span> In2<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">output</span> Out1<span class=\"token punctuation\">,</span> Out2<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">inout</span> InOut1<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// 数据类型定义: 说明端口数据类型 - Net/Register</span>\n    <span class=\"token keyword\">wire</span> In1<span class=\"token punctuation\">,</span> In2<span class=\"token punctuation\">,</span> Out1<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">wire</span> InOut1<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">reg</span> Out2<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Instantiation of lower level modules</span>\n    Design <span class=\"token function\">u_2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>端口<span class=\"token punctuation\">(</span>信号<span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>端口<span class=\"token function\">2</span><span class=\"token punctuation\">(</span>信号<span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>端口<span class=\"token function\">3</span><span class=\"token punctuation\">(</span>信号<span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Functionality</span>\n\n    <span class=\"token comment\">// 三种层次的描述: 逻辑层次(Gate Level), 数据流层次(Dataflow Level), 行为层次(Behavior Level)</span>\n    <span class=\"token comment\">// and/or - gate level</span>\n    <span class=\"token keyword\">and</span> <span class=\"token function\">and1</span><span class=\"token punctuation\">(</span> Out1<span class=\"token punctuation\">,</span> In1<span class=\"token punctuation\">,</span> In2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// assign - dataflow level</span>\n    <span class=\"token keyword\">assign</span> <span class=\"token number\">#2</span> Out1 <span class=\"token operator\">=</span> In1 <span class=\"token operator\">&amp;</span> In2<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// always/initial - behavior level</span>\n    allways @<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">begin</span>\n            Out2 <span class=\"token operator\">=</span> In1 <span class=\"token operator\">&amp;</span> In2\n        <span class=\"token keyword\">end</span>\n\n    <span class=\"token comment\">// Timing specification</span>\n\n<span class=\"token keyword\">endmodule</span></code></pre></div>\n<h3 id=\"外部端口\"><a href=\"#%E5%A4%96%E9%83%A8%E7%AB%AF%E5%8F%A3\" aria-label=\"外部端口 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>外部端口</h3>\n<ul>\n<li>封装内部端口,装饰者模式</li>\n<li>一个内部端口可与多个外部端口相连</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">module</span> scram_b <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>arb<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">control</span><span class=\"token punctuation\">(</span>ctrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">mem_word</span><span class=\"token punctuation\">(</span>mem_blk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">addr</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">byte</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">input</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> arb<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">input</span> ctrl<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">input</span> <span class=\"token punctuation\">[</span><span class=\"token number\">8</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> mem_blk<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">output</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">endmodule</span></code></pre></div>\n<h2 id=\"function\"><a href=\"#function\" aria-label=\"function permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>function</h2>\n<ul>\n<li>不含时间/事件控制</li>\n<li>至少1个输入</li>\n<li>至多1个输出</li>\n<li>只含行为模块</li>\n<li>只含阻塞赋值语句</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">function</span>  <span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>  aligned_word<span class=\"token punctuation\">;</span>    <span class=\"token comment\">// function declaration</span>\n    <span class=\"token keyword\">input</span>  <span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>  word<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">begin</span>\n      aligned_word <span class=\"token operator\">=</span> word<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>aligned_word <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>aligned_word<span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> aligned_word <span class=\"token operator\">=</span> aligned_word <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">endfunction</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">module</span> arithmetic_unit <span class=\"token punctuation\">(</span>result_1<span class=\"token punctuation\">,</span> result_2<span class=\"token punctuation\">,</span> operand_1<span class=\"token punctuation\">,</span> operand_2<span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">output</span>   <span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> result_1<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">output</span>  <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> result_2<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">input</span>   <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> operand_1<span class=\"token punctuation\">,</span> operand_2<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">assign</span> result_1 <span class=\"token operator\">=</span> sum_of_operands <span class=\"token punctuation\">(</span>operand_1<span class=\"token punctuation\">,</span> operand_2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">assign</span> result_2 <span class=\"token operator\">=</span> larger_operand <span class=\"token punctuation\">(</span>operand_1<span class=\"token punctuation\">,</span> operand_2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token function\">sum_of_operands</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">input</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> operand_1<span class=\"token punctuation\">,</span> operand_2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    sum_of_operands <span class=\"token operator\">=</span> operand_1 <span class=\"token operator\">+</span> operand_2<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">endfunction</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token function\">larger_operand</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">input</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> operand_1<span class=\"token punctuation\">,</span> operand_2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    larger_operand <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>operand_1 <span class=\"token operator\">>=</span> operand_2<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> operand_1 <span class=\"token punctuation\">:</span> operand_2<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">endfunction</span>\n<span class=\"token keyword\">endmodule</span></code></pre></div>\n<h3 id=\"task\"><a href=\"#task\" aria-label=\"task permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>task</h3>\n<p>将测试流程分为多个任务:</p>\n<ul>\n<li>初始化任务</li>\n<li>模拟生成任务</li>\n<li>自我检查任务</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">module</span> adder_task <span class=\"token punctuation\">(</span>c_out<span class=\"token punctuation\">,</span> sum<span class=\"token punctuation\">,</span> clk<span class=\"token punctuation\">,</span> reset<span class=\"token punctuation\">,</span> c_in<span class=\"token punctuation\">,</span> data_a<span class=\"token punctuation\">,</span> data_b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">output</span> <span class=\"token keyword\">reg</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>  sum<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">output</span> <span class=\"token keyword\">reg</span>  c_out<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">input</span>  <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>  data_a<span class=\"token punctuation\">,</span> data_b<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">input</span>   clk<span class=\"token punctuation\">,</span> reset<span class=\"token punctuation\">,</span> c_in<span class=\"token punctuation\">;</span>\n\n  <span class=\"token important\">always @</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> clk <span class=\"token keyword\">or</span> <span class=\"token keyword\">posedge</span> reset<span class=\"token punctuation\">)</span> <span class=\"token keyword\">begin</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>reset<span class=\"token punctuation\">)</span> <span class=\"token operator\">{</span>c_out<span class=\"token punctuation\">,</span> sum<span class=\"token operator\">}</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">else</span> add_values <span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">,</span> c_out<span class=\"token punctuation\">,</span> data_a<span class=\"token punctuation\">,</span> data_b<span class=\"token punctuation\">,</span> c_in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// invoke task</span>\n  <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">task</span> add_values<span class=\"token punctuation\">;</span> <span class=\"token comment\">// task declaration</span>\n    <span class=\"token keyword\">output</span> <span class=\"token keyword\">reg</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>  SUM<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">output</span> <span class=\"token keyword\">reg</span>  C_OUT<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">input</span>  <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span>  DATA_A<span class=\"token punctuation\">,</span> DATA_B<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">input</span>   C_IN<span class=\"token punctuation\">;</span>\n            <span class=\"token operator\">{</span>C_OUT<span class=\"token punctuation\">,</span> SUM<span class=\"token operator\">}</span> <span class=\"token operator\">=</span> DATA_A <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>DATA_B <span class=\"token operator\">+</span> C_IN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">endtask</span>\n<span class=\"token keyword\">endmodule</span></code></pre></div>\n<p>常用的 task 有: $display(“fmt”, …), $monitor(“fmt”, …), $time, $finish</p>\n<h2 id=\"variabledata-structure\"><a href=\"#variabledata-structure\" aria-label=\"variabledata structure permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Variable/Data Structure</h2>\n<h3 id=\"常量\"><a href=\"#%E5%B8%B8%E9%87%8F\" aria-label=\"常量 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>常量</h3>\n<ul>\n<li>0: 逻辑0</li>\n<li>1: 逻辑1</li>\n<li>x/X: Unknow/Floating</li>\n<li>z/Z: 高阻抗状态(High Impendence)</li>\n<li>parameter: #define</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">localparam</span> idle <span class=\"token operator\">=</span> <span class=\"token number\">2'b00</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">parameter</span> Bit <span class=\"token operator\">=</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> cnt_up <span class=\"token operator\">=</span> <span class=\"token number\">1'b1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">output</span> <span class=\"token punctuation\">[</span>Bit <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> A<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">reg</span> <span class=\"token punctuation\">[</span>Bit <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> A<span class=\"token punctuation\">;</span>\n\nA <span class=\"token operator\">=</span> A <span class=\"token operator\">+</span> cnt_up<span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"向量\"><a href=\"#%E5%90%91%E9%87%8F\" aria-label=\"向量 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>向量</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token punctuation\">[</span>MSB<span class=\"token punctuation\">:</span> LSB<span class=\"token punctuation\">]</span> 或 <span class=\"token punctuation\">[</span>LSB<span class=\"token punctuation\">:</span> MSB<span class=\"token punctuation\">]</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">output</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> A<span class=\"token punctuation\">;</span>    <span class=\"token comment\">// 4 bit</span>\n<span class=\"token keyword\">reg</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> B<span class=\"token punctuation\">,</span> C<span class=\"token punctuation\">;</span>    <span class=\"token comment\">// 4 bit</span>\n<span class=\"token keyword\">wire</span> <span class=\"token punctuation\">[</span><span class=\"token number\">63</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> D<span class=\"token punctuation\">;</span>    <span class=\"token comment\">// 64 bit</span>\n<span class=\"token keyword\">wire</span> E<span class=\"token punctuation\">;</span>               <span class=\"token comment\">// 1 bit</span>\n\nA<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> B<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;</span> C<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// A[2] = 0 &amp; C[1], A[1] = B[0] &amp; C[2]</span>\nB<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\nC <span class=\"token operator\">=</span> <span class=\"token number\">4'b1011</span><span class=\"token punctuation\">;</span>                   <span class=\"token comment\">// C[0] = 1, C[1] = 0, C[2] = 1, C[3] = 1</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">integer</span> <span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> A <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// 4元素数组. 每个元素为16bit元</span>\n<span class=\"token keyword\">reg</span> B <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token number\">15</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>            <span class=\"token comment\">// arr[4][16]数组, 每个元素为1bit元</span>\n<span class=\"token keyword\">reg</span> <span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> C <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token number\">15</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// arr[4][16]数组, 每个元素为8bit元</span>\n\nA<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>                     <span class=\"token comment\">// 置零A中第三个元素(8 bit)</span>\nA <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>                        <span class=\"token comment\">// 置零A</span>\nB<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>                  <span class=\"token comment\">// B[1][0](1 bit)置1</span>\nC<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">4'b0010</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// C[0][0] 低4bit为0010</span>\nC<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>               <span class=\"token comment\">// C[2][8] 第5bit为1</span></code></pre></div>\n<h4 id=\"部分位选\"><a href=\"#%E9%83%A8%E5%88%86%E4%BD%8D%E9%80%89\" aria-label=\"部分位选 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>部分位选</h4>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\">vector<span class=\"token punctuation\">[</span>base_expr<span class=\"token operator\">+</span><span class=\"token punctuation\">:</span> const_width<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nvector<span class=\"token punctuation\">[</span>base_expr<span class=\"token operator\">-</span><span class=\"token punctuation\">:</span> const_width<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\ninst_mode<span class=\"token punctuation\">[</span>mark<span class=\"token operator\">+</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => mark,mark+1</span>\ngpio_mode<span class=\"token punctuation\">[</span>mark<span class=\"token operator\">-</span><span class=\"token punctuation\">:</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// => mark,mark-1,mark-2,mark-3</span></code></pre></div>\n<h3 id=\"数字\"><a href=\"#%E6%95%B0%E5%AD%97\" aria-label=\"数字 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>数字</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token comment\">// size ' signed base value</span>\n<span class=\"token operator\">&lt;</span>Bits长度<span class=\"token operator\">></span>'<span class=\"token punctuation\">[</span><span class=\"token keyword\">signed</span><span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span>进制<span class=\"token operator\">>&lt;</span>数值<span class=\"token operator\">></span></code></pre></div>\n<ul>\n<li>位长不能用表达式表示,只可用固定的 parameter</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\">Num <span class=\"token operator\">=</span> <span class=\"token number\">5'b01101</span><span class=\"token punctuation\">;</span>               <span class=\"token comment\">// 二进制</span>\nNum <span class=\"token operator\">=</span> <span class=\"token number\">22</span><span class=\"token punctuation\">;</span>                     <span class=\"token comment\">// 十进制</span>\nNum <span class=\"token operator\">=</span> <span class=\"token number\">12'b0000_1111_0000</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// 可读性</span>\nNum <span class=\"token operator\">=</span> <span class=\"token number\">4'hf</span><span class=\"token punctuation\">;</span>                  <span class=\"token comment\">// 十六进制(1111)</span>\nNum <span class=\"token operator\">=</span> <span class=\"token number\">4'bxxx1</span><span class=\"token punctuation\">;</span>              <span class=\"token comment\">// 前三位未知</span>\nNum <span class=\"token operator\">=</span> <span class=\"token number\">4'bz01</span><span class=\"token punctuation\">;</span>               <span class=\"token comment\">// 前两位为z, 后两位为01</span></code></pre></div>\n<h4 id=\"有符号数\"><a href=\"#%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0\" aria-label=\"有符号数 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>有符号数</h4>\n<ul>\n<li>signed reg</li>\n<li>signed wire</li>\n<li>integer</li>\n<li>‘sxx</li>\n</ul>\n<h4 id=\"无符号数\"><a href=\"#%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0\" aria-label=\"无符号数 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>无符号数</h4>\n<ul>\n<li>reg</li>\n<li>wire</li>\n<li>‘xx</li>\n</ul>\n<h3 id=\"register---regintegertimerealrealtime\"><a href=\"#register---regintegertimerealrealtime\" aria-label=\"register   regintegertimerealrealtime permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Register - reg/integer/time/real/realtime</h3>\n<ul>\n<li>有记忆性</li>\n<li>默认值: x</li>\n</ul>\n<h4 id=\"integer\"><a href=\"#integer\" aria-label=\"integer permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>integer</h4>\n<p>长度为32 Bit, 补码表示, 常用于计数器</p>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token important\">always @</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> CLK<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">begin</span>\n        <span class=\"token keyword\">integer</span> i<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i <span class=\"token operator\">&lt;=</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">=</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> tmp<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> In<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">end</span></code></pre></div>\n<h4 id=\"real\"><a href=\"#real\" aria-label=\"real permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>real</h4>\n<ul>\n<li>real 默认值为0,不可为x/z</li>\n<li>不可声明位宽</li>\n</ul>\n<h3 id=\"net---wirewandwor\"><a href=\"#net---wirewandwor\" aria-label=\"net   wirewandwor permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Net - wire/wand/wor</h3>\n<ul>\n<li>局部变量, 没有记忆性</li>\n<li>默认值: z</li>\n<li>wire 间不可直接相连, wand/wor 间课直接相连</li>\n<li>可用 wire 定义局部变量</li>\n</ul>\n<h2 id=\"gate-level\"><a href=\"#gate-level\" aria-label=\"gate level permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gate Level</h2>\n<h3 id=\"basic-gate\"><a href=\"#basic-gate\" aria-label=\"basic gate permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Basic Gate</h3>\n<ul>\n<li>and</li>\n<li>nand(与非)</li>\n<li>or</li>\n<li>nor(或非)</li>\n<li>xor(异或)</li>\n<li>xnor(同或)</li>\n</ul>\n<h3 id=\"use-gate\"><a href=\"#use-gate\" aria-label=\"use gate permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Use Gate</h3>\n<ul>\n<li>同一模块中, 实例名不能与线网名相同</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span>w1<span class=\"token punctuation\">,</span> In1<span class=\"token punctuation\">,</span> In2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// w1 = Int and In2</span>\n<span class=\"token keyword\">or</span> <span class=\"token function\">or1</span><span class=\"token punctuation\">(</span>w2<span class=\"token punctuation\">,</span> w1<span class=\"token punctuation\">,</span> In2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// w2 = w1 or In2</span>\n<span class=\"token keyword\">xor</span> <span class=\"token function\">xor</span><span class=\"token punctuation\">(</span>Out<span class=\"token punctuation\">,</span> w1<span class=\"token punctuation\">,</span> w2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// Out = w1 xor w2</span></code></pre></div>\n<ul>\n<li>实例数组</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">wire</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> irq<span class=\"token punctuation\">,</span> ctrl<span class=\"token punctuation\">,</span> sense<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/*\n * =>\n * nand\n *      u8nand3 (irq[3], ctrl[3], sense[3]);\n *      u8nand2 (irq[2], ctrl[2], sense[2]);\n *      u8nand1 (irq[1], ctrl[1], sense[1]);\n *      u8nand0 (irq[0], ctrl[0], sense[0]);\n */</span>\n<span class=\"token keyword\">nand</span> u8nand <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>irq<span class=\"token punctuation\">,</span> ctrl<span class=\"token punctuation\">,</span> sense<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">parameter</span> NUM_BITS <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">wire</span> <span class=\"token punctuation\">[</span>NUM_BITS <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> gated_d<span class=\"token punctuation\">,</span> din<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">wire</span> bypass<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">and</span> #<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> u0and <span class=\"token punctuation\">[</span>NUM_BITS <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>gated_d<span class=\"token punctuation\">,</span> din<span class=\"token punctuation\">,</span> bypass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"self-defined-gate用户自定义原语\"><a href=\"#self-defined-gate%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8E%9F%E8%AF%AD\" aria-label=\"self defined gate用户自定义原语 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Self-Defined Gate(用户自定义原语)</h3>\n<ul>\n<li>可以有一个/多个输入</li>\n<li>只能有一个输出</li>\n<li>第一个端口必须是输出端口</li>\n<li>\n<ul>\n<li>表示 值”无变化”</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">primitive</span> XOR2 <span class=\"token punctuation\">(</span>DOUT<span class=\"token punctuation\">,</span> X1<span class=\"token punctuation\">,</span> X2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">input</span> X1<span class=\"token punctuation\">,</span> X2<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">output</span> DOUT<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">table</span> <span class=\"token comment\">// X1 X2 : DOUT</span>\n        <span class=\"token number\">0</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token number\">0</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token number\">1</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token number\">1</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">endtable</span>\n<span class=\"token keyword\">endprimitive</span></code></pre></div>\n<h2 id=\"dataflow-level\"><a href=\"#dataflow-level\" aria-label=\"dataflow level permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dataflow Level</h2>\n<ul>\n<li>assign net = net/reg: <strong>左式只能是net</strong></li>\n</ul>\n<h3 id=\"operators\"><a href=\"#operators\" aria-label=\"operators permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://hom-wang.gitbooks.io/verilog-hdl/content/Chapter_04.html\">Operators</a></h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\">赋值<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;=</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&lt;=</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">>=</span>\n<span class=\"token operator\">!=</span><span class=\"token punctuation\">.</span> <span class=\"token operator\">==</span>\n<span class=\"token punctuation\">[</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span> <span class=\"token operator\">{</span> <span class=\"token operator\">}</span>\n<span class=\"token operator\">&lt;&lt;</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">>></span>\n<span class=\"token operator\">+</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">/</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">%</span></code></pre></div>\n<h3 id=\"整数提升\"><a href=\"#%E6%95%B4%E6%95%B0%E6%8F%90%E5%8D%87\" aria-label=\"整数提升 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>整数提升</h3>\n<ul>\n<li>表达式所有中间取 最大位宽(最长(左/右)操作数)</li>\n</ul>\n<h4 id=\"-\"><a href=\"#-\" aria-label=\"  permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>{ }</h4>\n<p>可实现 haskell 中的<strong>模式匹配</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token comment\">// 连接运算符</span>\nA <span class=\"token operator\">=</span> <span class=\"token operator\">{</span> <span class=\"token number\">1'b0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1'b1</span><span class=\"token operator\">}</span><span class=\"token punctuation\">;</span>                <span class=\"token comment\">// A = 2'b01</span>\nA <span class=\"token operator\">=</span> <span class=\"token operator\">{</span> B<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> C<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> D<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">}</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// A = B[1], B[2], C[0], D[2]</span>\nA <span class=\"token operator\">=</span> <span class=\"token operator\">{</span> <span class=\"token number\">2</span><span class=\"token operator\">{</span><span class=\"token number\">2'b01</span><span class=\"token operator\">}</span> <span class=\"token operator\">}</span><span class=\"token punctuation\">;</span>                  <span class=\"token comment\">// A = 4'b0101</span>\nA <span class=\"token operator\">=</span> <span class=\"token operator\">{</span> <span class=\"token number\">3'b101</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token operator\">{</span><span class=\"token number\">1'b0</span><span class=\"token operator\">}</span> <span class=\"token operator\">}</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// A = 5'b101_00</span></code></pre></div>\n<h2 id=\"behavior-level\"><a href=\"#behavior-level\" aria-label=\"behavior level permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Behavior Level</h2>\n<ul>\n<li>reg = net/reg: *<em>左式只能是reg</em></li>\n</ul>\n<h3 id=\"时延控制\"><a href=\"#%E6%97%B6%E5%BB%B6%E6%8E%A7%E5%88%B6\" aria-label=\"时延控制 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>时延控制</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\">#num\n\n<span class=\"token keyword\">parameter</span> cycle <span class=\"token operator\">=</span> <span class=\"token number\">30</span><span class=\"token punctuation\">;</span>\n\n# <span class=\"token number\">2</span>\n# cycle<span class=\"token operator\">/</span><span class=\"token number\">2</span></code></pre></div>\n<h3 id=\"事件控制\"><a href=\"#%E4%BA%8B%E4%BB%B6%E6%8E%A7%E5%88%B6\" aria-label=\"事件控制 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>事件控制</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\">@<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n@<span class=\"token punctuation\">(</span> sel<span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n@<span class=\"token punctuation\">(</span>sel <span class=\"token keyword\">or</span> a <span class=\"token keyword\">or</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n@<span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> CLK<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n@<span class=\"token punctuation\">(</span><span class=\"token keyword\">negedge</span> CLK<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"语句内间控制\"><a href=\"#%E8%AF%AD%E5%8F%A5%E5%86%85%E9%97%B4%E6%8E%A7%E5%88%B6\" aria-label=\"语句内间控制 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>语句内/间控制</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\">q <span class=\"token operator\">=</span> @<span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> clk_iol<span class=\"token punctuation\">)</span> d<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 语句内事件控制</span>\n\n@<span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> clk_iol<span class=\"token punctuation\">)</span>        <span class=\"token comment\">// 语句间事件控制</span>\n    q <span class=\"token operator\">=</span> temp<span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"always\"><a href=\"#always\" aria-label=\"always permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>always</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token important\">always @</span><span class=\"token punctuation\">(</span>事件<span class=\"token number\">1</span><span class=\"token punctuation\">,</span> 事件<span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">begin</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">end</span></code></pre></div>\n<h3 id=\"if-else\"><a href=\"#if-else\" aria-label=\"if else permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>if-else</h3>\n<ul>\n<li>必须添加 else</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition1<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">begin</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition2<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">begin</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">else</span>\n    <span class=\"token keyword\">begin</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">end</span></code></pre></div>\n<h3 id=\"casecasexcasez\"><a href=\"#casecasexcasez\" aria-label=\"casecasexcasez permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>case/casex/casez</h3>\n<ul>\n<li>expr: 常量/变量/连接运算符{ }/x/z</li>\n<li>casex: 当输入某一位为 x/z 时，忽略此位匹配(恒将此位匹配为真)</li>\n<li>casez: 当输入某一位为 z 时，忽略此位匹配(恒将此位匹配为真)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">case</span> <span class=\"token punctuation\">(</span>expr<span class=\"token punctuation\">)</span>\n    item <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">begin</span>\n            <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">end</span>\n    item <span class=\"token number\">2</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">begin</span>\n            <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">end</span>\n    item <span class=\"token number\">3</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">begin</span>\n            <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">end</span>\n    <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">endcase</span></code></pre></div>\n<h3 id=\"for\"><a href=\"#for\" aria-label=\"for permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>for</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>循环初值<span class=\"token punctuation\">;</span> 循环条件<span class=\"token punctuation\">;</span> 控制部分<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">begin</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">end</span></code></pre></div>\n<h3 id=\"repeat-loop\"><a href=\"#repeat-loop\" aria-label=\"repeat loop permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>repeat loop</h3>\n<ul>\n<li>initial for <strong>test bench</strong></li>\n<li>当需 if/else 进行断言时,注意 <strong>延时</strong> 造成的错误逻辑</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token comment\">// 重复事件控制:</span>\n<span class=\"token comment\">// 先计算好右值, 等待时钟 tclk 上出现2个负跳变沿, 再把右值赋给 hresult</span>\nhresult <span class=\"token operator\">=</span> <span class=\"token keyword\">repeat</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> @<span class=\"token punctuation\">(</span><span class=\"token keyword\">negedge</span> tclk<span class=\"token punctuation\">)</span> hw_data <span class=\"token operator\">+</span> hr_data<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// repeat 循环语句:</span>\n<span class=\"token keyword\">repeat</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    @<span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> tclk<span class=\"token punctuation\">)</span> hresult <span class=\"token operator\">=</span> hw_data <span class=\"token operator\">+</span> hr_data<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">initial</span> <span class=\"token keyword\">begin</span>\n    inc_DAC <span class=\"token operator\">=</span> <span class=\"token number\">1</span>’b1<span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">repeat</span><span class=\"token punctuation\">(</span><span class=\"token number\">4095</span><span class=\"token punctuation\">)</span> @<span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> clk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// bring DAC right up to point of rollover</span>\n    inc_DAC <span class=\"token operator\">=</span> <span class=\"token number\">1</span>’b0<span class=\"token punctuation\">;</span>\n    inc_smpl <span class=\"token operator\">=</span> <span class=\"token number\">1</span>’b1<span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">repeat</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span>@<span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> clk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// bring sample count up to 7</span>\n    inc_smpl <span class=\"token operator\">=</span> <span class=\"token number\">1</span>’b0<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end</span>\n\n<span class=\"token keyword\">initial</span> <span class=\"token keyword\">begin</span>\n    <span class=\"token number\">#100</span> <span class=\"token property\">$finish</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// run simulation for 100 units</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h3 id=\"forever-loop\"><a href=\"#forever-loop\" aria-label=\"forever loop permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>forever loop</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token comment\">// $stop, $finish 可以终止 forevr loop</span>\n<span class=\"token keyword\">forever</span> <span class=\"token number\">#10</span> clk <span class=\"token operator\">=</span> <span class=\"token operator\">~</span> clk<span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"forcerelease\"><a href=\"#forcerelease\" aria-label=\"forcerelease permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>force/release</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">initial</span>\n    <span class=\"token keyword\">begin</span>\n        <span class=\"token keyword\">force</span> test_reset <span class=\"token operator\">=</span> penable <span class=\"token operator\">&amp;</span> rtc_intr<span class=\"token punctuation\">;</span>\n        <span class=\"token number\">#5</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">release</span> test_reset<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">end</span></code></pre></div>\n<h3 id=\"blockingnon-blocking\"><a href=\"#blockingnon-blocking\" aria-label=\"blockingnon blocking permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Blocking/Non-Blocking</h3>\n<ul>\n<li>Blocking(=): 顺序执行</li>\n<li>Non-Blocking(&#x3C;=): 并行执行</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">output</span> <span class=\"token operator\">=</span> input_logic<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">output</span> <span class=\"token operator\">&lt;=</span> input_logic<span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"disable\"><a href=\"#disable\" aria-label=\"disable permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>disable</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">begin</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">break</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> i <span class=\"token operator\">=</span> i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">begin</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">continue</span>\n        @<span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> clk<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>a <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// \"continue\" loop</span>\n            <span class=\"token keyword\">disable</span> <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>a <span class=\"token operator\">==</span> b<span class=\"token punctuation\">)</span> <span class=\"token comment\">// \"break\" from loop</span>\n            <span class=\"token keyword\">disable</span> <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n        statement1\n        statement2\n    <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h2 id=\"结构建模\"><a href=\"#%E7%BB%93%E6%9E%84%E5%BB%BA%E6%A8%A1\" aria-label=\"结构建模 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>结构建模</h2>\n<h3 id=\"generate-语句\"><a href=\"#generate-%E8%AF%AD%E5%8F%A5\" aria-label=\"generate 语句 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>generate 语句</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">generate</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>gv_i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> gv_i <span class=\"token operator\">&lt;</span> SIZE<span class=\"token punctuation\">;</span> gv_i <span class=\"token operator\">=</span> gv_i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">begin</span><span class=\"token punctuation\">:</span> sblka\n            <span class=\"token keyword\">xor</span> uxor <span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">[</span>gv_i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">[</span>gv_i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">[</span>gv_i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">endgenerate</span>\n<span class=\"token comment\">// =></span>\n<span class=\"token comment\">// module.sblka[0].uxor</span>\n<span class=\"token comment\">// module.sblka[1].uxor</span>\n<span class=\"token comment\">// module.sblka[2].uxor</span>\n<span class=\"token comment\">// ...</span></code></pre></div>\n<h2 id=\"delay时延\"><a href=\"#delay%E6%97%B6%E5%BB%B6\" aria-label=\"delay时延 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Delay(时延)</h2>\n<ul>\n<li>语句内时延</li>\n<li>语句间时延</li>\n<li>语句内时延期间：右值保持稳定不变，才可成功赋给左值</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\">sum <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>a <span class=\"token operator\">^</span> b<span class=\"token punctuation\">)</span> <span class=\"token operator\">^</span> cin<span class=\"token punctuation\">;</span>\n<span class=\"token number\">#4</span> t1 <span class=\"token operator\">=</span> a <span class=\"token operator\">&amp;</span> cin<span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"预编译指令\"><a href=\"#%E9%A2%84%E7%BC%96%E8%AF%91%E6%8C%87%E4%BB%A4\" aria-label=\"预编译指令 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>预编译指令</h2>\n<h3 id=\"define-宏\"><a href=\"#define-%E5%AE%8F\" aria-label=\"define 宏 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>define 宏</h3>\n<p>将多个 define 宏,放至 _defines.v, 作为全局宏</p>\n<h3 id=\"默认未连接端口\"><a href=\"#%E9%BB%98%E8%AE%A4%E6%9C%AA%E8%BF%9E%E6%8E%A5%E7%AB%AF%E5%8F%A3\" aria-label=\"默认未连接端口 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>默认未连接端口</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token constant\">`unconnected_drive</span> <span class=\"token keyword\">pull1</span>\n\n<span class=\"token comment\">// 此区间未连接输入端口为上拉(1)</span>\n\n<span class=\"token constant\">`nounconnected_drive</span>\n\n<span class=\"token constant\">`unconnected_drive</span> <span class=\"token keyword\">pull0</span>\n\n<span class=\"token comment\">// 此区间未连接输入端口为下拉(0)</span>\n\n<span class=\"token constant\">`nounconnected_drive</span></code></pre></div>\n<h2 id=\"data-path\"><a href=\"#data-path\" aria-label=\"data path permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data Path</h2>\n<h3 id=\"multiplexer\"><a href=\"#multiplexer\" aria-label=\"multiplexer permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Multiplexer</h3>\n<h3 id=\"adder\"><a href=\"#adder\" aria-label=\"adder permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adder</h3>\n<h3 id=\"register\"><a href=\"#register\" aria-label=\"register permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Register</h3>\n<h3 id=\"memory\"><a href=\"#memory\" aria-label=\"memory permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Memory</h3>\n<ul>\n<li>其中数据文件中地址必须在系统任务中定义的范围内，系统任务中定义的地址必须在存储器定义的地址范围内</li>\n<li>优先考虑数据文件中的地址>系统任务中定义的起始地址和结束地址>存储器定义的起始地址和结束地址</li>\n</ul>\n<h2 id=\"demos\"><a href=\"#demos\" aria-label=\"demos permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Demos</h2>\n<ul>\n<li><a href=\"https://hom-wang.gitbooks.io/verilog-hdl/content/Chapter_07.html\">gitbooks.io</a></li>\n<li><a href=\"http://www.xilinx.com/support/university/ise/ise-teaching-material/hdl-design.html\">Xilinx Lab</a></li>\n</ul>\n<h3 id=\"binary-multiplier\"><a href=\"#binary-multiplier\" aria-label=\"binary multiplier permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Binary Multiplier</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\">   <span class=\"token number\">1100</span> <span class=\"token punctuation\">(</span>the multiplicand<span class=\"token punctuation\">)</span>\nx  <span class=\"token number\">1011</span> <span class=\"token punctuation\">(</span>the multiplier<span class=\"token punctuation\">)</span>\n   <span class=\"token operator\">----</span>\n   <span class=\"token number\">0000</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">initial</span> partial product<span class=\"token punctuation\">,</span> start <span class=\"token keyword\">with</span> <span class=\"token number\">0000</span><span class=\"token punctuation\">)</span>\n   <span class=\"token number\">1100</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span>st multiplier <span class=\"token keyword\">bit</span> is <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> so add the multiplicand<span class=\"token punctuation\">)</span>\n   <span class=\"token operator\">----</span>\n   <span class=\"token number\">1100</span> <span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">)</span>\n   <span class=\"token operator\">----</span>\n   <span class=\"token number\">01100</span> <span class=\"token punctuation\">(</span>shift sum one position to the right<span class=\"token punctuation\">)</span>\n   <span class=\"token number\">1100</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span>nd multiplier <span class=\"token keyword\">bit</span> is <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> so add multiplicand again<span class=\"token punctuation\">)</span>\n   <span class=\"token operator\">----</span>\n  <span class=\"token number\">100100</span> <span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">,</span> <span class=\"token keyword\">with</span> a carry generated on the left<span class=\"token punctuation\">)</span>\n   <span class=\"token operator\">----</span>\n   <span class=\"token number\">100100</span> <span class=\"token punctuation\">(</span>shift sum once to the right<span class=\"token punctuation\">,</span> including carry<span class=\"token punctuation\">)</span>\n   <span class=\"token number\">0100100</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3</span>rd multiplier <span class=\"token keyword\">bit</span> is <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> so skip add<span class=\"token punctuation\">,</span> shift once<span class=\"token punctuation\">)</span>\n   <span class=\"token operator\">----</span>\n   <span class=\"token number\">1100</span> <span class=\"token punctuation\">(</span><span class=\"token number\">4</span>th multiplier <span class=\"token keyword\">bit</span> is <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> so add multiplicand again<span class=\"token punctuation\">)</span>\n   <span class=\"token operator\">----</span>\n  <span class=\"token number\">10000100</span> <span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">,</span> <span class=\"token keyword\">with</span> a carry generated on the left<span class=\"token punctuation\">)</span>\n   <span class=\"token number\">10000100</span> <span class=\"token punctuation\">(</span>shift sum once to the right<span class=\"token punctuation\">,</span> including carry<span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"multi-hz\"><a href=\"#multi-hz\" aria-label=\"multi hz permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Multi-Hz</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token comment\">/*\n * 利用计数器实现任意分频\n */</span>\n<span class=\"token important\">always</span> @<span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> f_clk<span class=\"token punctuation\">)</span> <span class=\"token keyword\">begin</span>\n\n    <span class=\"token comment\">//设定频率控制字p  </span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">==</span> p<span class=\"token punctuation\">)</span> <span class=\"token keyword\">begin</span>\n        i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        f_out<span class=\"token operator\">=~</span>f_out<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">end</span>\n    <span class=\"token keyword\">else</span> <span class=\"token keyword\">begin</span>\n        i<span class=\"token operator\">=</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h2 id=\"tips\"><a href=\"#tips\" aria-label=\"tips permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tips</h2>\n<h3 id=\"不可综合结构\"><a href=\"#%E4%B8%8D%E5%8F%AF%E7%BB%BC%E5%90%88%E7%BB%93%E6%9E%84\" aria-label=\"不可综合结构 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>不可综合结构</h3>\n<ul>\n<li>initial: 只用于 test bench</li>\n<li>events: Events 同步测试各个组件</li>\n<li>real: Real 数据类型不可综合</li>\n<li>time: Time 数据类型不可综合</li>\n<li>force/release</li>\n<li>assign(reg)/deassign(reg)</li>\n<li>fork join</li>\n<li>primitive: 只有门级的原语（primitives）可综合</li>\n<li>table: 用户自定义原语（UDP）及 table 不可综合</li>\n<li><code class=\"language language-text\">#1</code> 延迟只用于仿真，综合器直接忽略延迟</li>\n</ul>\n<h3 id=\"混合编程\"><a href=\"#%E6%B7%B7%E5%90%88%E7%BC%96%E7%A8%8B\" aria-label=\"混合编程 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>混合编程</h3>\n<ul>\n<li>内部变量用 assign 赋值</li>\n<li>输出变量通过监听 内部变量 改变输出值</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\">    <span class=\"token keyword\">assign</span> DT0 <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">assign</span> DT1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token important\">always @</span><span class=\"token punctuation\">(</span>DT0<span class=\"token punctuation\">)</span> <span class=\"token keyword\">begin</span>\n        Aout <span class=\"token operator\">&lt;=</span> DT0<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">end</span>\n    <span class=\"token important\">always @</span><span class=\"token punctuation\">(</span>DT1<span class=\"token punctuation\">)</span> <span class=\"token keyword\">begin</span>\n        Bout <span class=\"token operator\">&lt;=</span> DT1<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">end</span></code></pre></div>\n<h3 id=\"上升沿下降沿\"><a href=\"#%E4%B8%8A%E5%8D%87%E6%B2%BF%E4%B8%8B%E9%99%8D%E6%B2%BF\" aria-label=\"上升沿下降沿 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>上升沿/下降沿</h3>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\">    <span class=\"token important\">always @</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> A <span class=\"token keyword\">or</span> <span class=\"token keyword\">negedge</span> B<span class=\"token punctuation\">)</span> <span class=\"token keyword\">begin</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>B<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">else</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">end</span></code></pre></div>\n<h3 id=\"parameter\"><a href=\"#parameter\" aria-label=\"parameter permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Parameter</h3>\n<ul>\n<li>只在定义的模块内部起作用</li>\n</ul>\n<h4 id=\"overload-method\"><a href=\"#overload-method\" aria-label=\"overload method permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overload Method</h4>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">module</span> data_path\n#<span class=\"token punctuation\">(</span><span class=\"token keyword\">parameter</span> DATA_WIDTH <span class=\"token operator\">=</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">input</span> A<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">input</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>DATA_WIDTH <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> B<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">output</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>DATA_WIDTH <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> C\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">endmodule</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">module</span> data_path_tb\n<span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    data_path #<span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token function\">DATA_WIDTH</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> DUT <span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token function\">A</span><span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token function\">B</span><span class=\"token punctuation\">(</span>B<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token function\">C</span><span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">endmodule</span></code></pre></div>\n<h4 id=\"constant-variable\"><a href=\"#constant-variable\" aria-label=\"constant variable permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Constant Variable</h4>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\">reset_value <span class=\"token operator\">=</span> <span class=\"token operator\">{{</span><span class=\"token punctuation\">(</span>DATA_WIDTH<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">{</span><span class=\"token number\">1'b0</span><span class=\"token operator\">}}</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">{</span><span class=\"token punctuation\">(</span>DATA_WIDTH<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">{</span><span class=\"token number\">1'b1</span><span class=\"token operator\">}}}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h4 id=\"test-bench\"><a href=\"#test-bench\" aria-label=\"test bench permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Test Bench</h4>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token important\">always </span><span class=\"token keyword\">begin</span>\n    clk <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">forever</span> #DELAY clk <span class=\"token operator\">=</span> <span class=\"token operator\">~</span>clk<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"verilog\"><pre class=\"language language-verilog\"><code class=\"language language-verilog\"><span class=\"token keyword\">reg</span> clock<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">integer</span> no_of_clocks<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">parameter</span> CLOCK_PERIOD <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">parameter</span> TIME <span class=\"token operator\">=</span> <span class=\"token number\">50000</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">initial</span> no_of_clocks <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">initial</span> clock <span class=\"token operator\">=</span> <span class=\"token number\">1'b0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token important\">always </span>#<span class=\"token punctuation\">(</span>CLOCK_PERIOD<span class=\"token operator\">/</span><span class=\"token number\">2.0</span><span class=\"token punctuation\">)</span> clock <span class=\"token operator\">=</span> <span class=\"token operator\">~</span>clock<span class=\"token punctuation\">;</span>\n\n<span class=\"token important\">always @</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">posedge</span> clock<span class=\"token punctuation\">)</span>\n    no_of_clocks <span class=\"token operator\">=</span> no_of_clocks <span class=\"token operator\">+</span><span class=\"token number\">1</span> <span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">initial</span> <span class=\"token keyword\">begin</span>\n    #TIME<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">$display</span><span class=\"token punctuation\">(</span>\"End of simulation <span class=\"token keyword\">time</span> is <span class=\"token operator\">%</span>d <span class=\"token punctuation\">,</span>\n      total number of clocks seen is <span class=\"token operator\">%</span>d expected is <span class=\"token operator\">%</span>d\"<span class=\"token punctuation\">,</span><span class=\"token property\">$time</span><span class=\"token punctuation\">,</span>no_of_clocks<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token property\">$time</span><span class=\"token operator\">/</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">$finish</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h2 id=\"有限状态机fsm\"><a href=\"#%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BAfsm\" aria-label=\"有限状态机fsm permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>有限状态机(FSM)</h2>\n<ul>\n<li>reset: initial state</li>\n<li>default: illegal/unreachable state</li>\n</ul>\n<h2 id=\"算术状态机asm\"><a href=\"#%E7%AE%97%E6%9C%AF%E7%8A%B6%E6%80%81%E6%9C%BAasm\" aria-label=\"算术状态机asm permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>算术状态机(ASM)</h2>\n<ul>\n<li>state box: moore fsm</li>\n<li>conditional box: mealy fsm</li>\n<li>decision box: <code class=\"language language-text\">x_input</code> = 0/1</li>\n</ul>","toc":"<ul>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#verilog-basic-notes\">Verilog Basic Notes</a></p>\n<ul>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#general-flow\">General Flow</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#create-proj---vsources--xdcconstraints\">Create Proj - .v(sources) / .xdc(constraints)</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#rtl-analysis\">RTL Analysis</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#simulate-design---_tbvsimulation-sources\">Simulate Design - *_tb.v(simulation sources)</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#synthesize-design\">Synthesize Design</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#implement-design\">Implement Design</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#post-implementation-timing-simulate-design\">Post-Implementation Timing Simulate Design</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#generate-bitstream\">Generate Bitstream</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#testing-and-verification\">Testing and Verification</a></li>\n</ul>\n</li>\n<li><a href=\"/react-blog/verilogBasicNotes/#key-words\">Key Words</a></li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#module\">Module</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E5%A4%96%E9%83%A8%E7%AB%AF%E5%8F%A3\">外部端口</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#function\">function</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#task\">task</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#variabledata-structure\">Variable/Data Structure</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E5%B8%B8%E9%87%8F\">常量</a></li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#%E5%90%91%E9%87%8F\">向量</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E9%83%A8%E5%88%86%E4%BD%8D%E9%80%89\">部分位选</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#%E6%95%B0%E5%AD%97\">数字</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0\">有符号数</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0\">无符号数</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#register---regintegertimerealrealtime\">Register - reg/integer/time/real/realtime</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#integer\">integer</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#real\">real</a></li>\n</ul>\n</li>\n<li><a href=\"/react-blog/verilogBasicNotes/#net---wirewandwor\">Net - wire/wand/wor</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#gate-level\">Gate Level</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#basic-gate\">Basic Gate</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#use-gate\">Use Gate</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#self-defined-gate%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8E%9F%E8%AF%AD\">Self-Defined Gate(用户自定义原语)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#dataflow-level\">Dataflow Level</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#operators\">Operators</a></li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#%E6%95%B4%E6%95%B0%E6%8F%90%E5%8D%87\">整数提升</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#-\">{ }</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#behavior-level\">Behavior Level</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E6%97%B6%E5%BB%B6%E6%8E%A7%E5%88%B6\">时延控制</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E4%BA%8B%E4%BB%B6%E6%8E%A7%E5%88%B6\">事件控制</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E8%AF%AD%E5%8F%A5%E5%86%85%E9%97%B4%E6%8E%A7%E5%88%B6\">语句内/间控制</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#always\">always</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#if-else\">if-else</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#casecasexcasez\">case/casex/casez</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#for\">for</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#repeat-loop\">repeat loop</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#forever-loop\">forever loop</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#forcerelease\">force/release</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#blockingnon-blocking\">Blocking/Non-Blocking</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#disable\">disable</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#%E7%BB%93%E6%9E%84%E5%BB%BA%E6%A8%A1\">结构建模</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#generate-%E8%AF%AD%E5%8F%A5\">generate 语句</a></li>\n</ul>\n</li>\n<li><a href=\"/react-blog/verilogBasicNotes/#delay%E6%97%B6%E5%BB%B6\">Delay(时延)</a></li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#%E9%A2%84%E7%BC%96%E8%AF%91%E6%8C%87%E4%BB%A4\">预编译指令</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#define-%E5%AE%8F\">define 宏</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E9%BB%98%E8%AE%A4%E6%9C%AA%E8%BF%9E%E6%8E%A5%E7%AB%AF%E5%8F%A3\">默认未连接端口</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#data-path\">Data Path</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#multiplexer\">Multiplexer</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#adder\">Adder</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#register\">Register</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#memory\">Memory</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#demos\">Demos</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#binary-multiplier\">Binary Multiplier</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#multi-hz\">Multi-Hz</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#tips\">Tips</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E4%B8%8D%E5%8F%AF%E7%BB%BC%E5%90%88%E7%BB%93%E6%9E%84\">不可综合结构</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E6%B7%B7%E5%90%88%E7%BC%96%E7%A8%8B\">混合编程</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E4%B8%8A%E5%8D%87%E6%B2%BF%E4%B8%8B%E9%99%8D%E6%B2%BF\">上升沿/下降沿</a></li>\n<li>\n<p><a href=\"/react-blog/verilogBasicNotes/#parameter\">Parameter</a></p>\n<ul>\n<li><a href=\"/react-blog/verilogBasicNotes/#overload-method\">Overload Method</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#constant-variable\">Constant Variable</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#test-bench\">Test Bench</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BAfsm\">有限状态机(FSM)</a></li>\n<li><a href=\"/react-blog/verilogBasicNotes/#%E7%AE%97%E6%9C%AF%E7%8A%B6%E6%80%81%E6%9C%BAasm\">算术状态机(ASM)</a></li>\n</ul>\n</li>\n</ul>","prevPost":{"slug":"/gitBasicNotes/","title":"Git Basic Notes"},"nextPost":null}}}